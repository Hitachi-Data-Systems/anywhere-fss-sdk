<div class="main-content">
  <h2><a name="FileApi"></a><b>File</b></h2>
  <p>This page consists of the File endpoints for the HCP Anywhere File Sync and Share API.</p>
  <p> For each endpoint, the following information is provided (if applicable):</p>
   <ul>
      <li>Description of the operation the endpoint performs</li>
      <li>URI for the endpoint</li>
      <li>HTTP method for the endpoint</li>
      <li>Parameters for the endpoint</li>
      <li>Example request</li>
      <li>Example response</li>
      <li>Description of the response</li>
      <li>Response codes and description of what each response code means</li>
   </ul>
  
  
  <h3><a name="fileStreamCreatePost"></a><b>Upload new file</b></h3>
  <hr>
  <p></p>
  <p>Uploads a file to HCP Anywhere. <p> If the file is already at the given path in HCP Anywhere, but is not up to date (as in, the size and hash of the file on HCP Anywhere do not match the size and hash of the file being uploaded), the operation fails. However, files in HCP Anywhere can be updated using the update file endpoint.</p>
  <h3 class="section">URI</h3>
  <code>/fss/public/file/stream/create</code>
  <h3 class="section">HTTP Method</h3>
  <code>POST</code>
  <h3 class="section">Parameters</h3>
  
  <ul>
  	
	  <li class="parameter">
      <span class="param-in">Request Body: </span><div class="model" data-model="Request body for upload new file"><a>Request body for upload new file</a><span class="model-body-indicator">&#9662;</span>
      
      
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Request body needed to upload a file to HCP Anywhere. This request body needs to be an octet-stream.</p>
      
      <div class="model-body-content"></div>
      </div>
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: path (required)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Path in HCP Anywhere where the file is uploaded. The last entry in the path should be the name of the file to upload.</p>
      
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: size (optional)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Size (in bytes) of the file being uploaded. <p> If this parameter and the hash of the file are included in the request, HCP Anywhere checks that the size and hash match the file being uploaded. If the size and hash do not match, the operation fails. </p><p> If one or neither of these two paramters are provided, HCP Anywhere does not check the size or hash of the file. The file is simply uploaded to HCP Anywhere.</p></p>
      
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: hash (optional)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">The hex encoded sha-384 hash of the file being uploaded. <p> If this parameter and the size of the file are included in the request, HCP Anywhere checks that the size and hash match the file being uploaded. If the size and hash do not match, the operation fails. </p><p> If one or neither of these two paramters are provided, HCP Anywhere does not check the size or hash of the file. The file is simply uploaded to HCP Anywhere.</p></p>
      
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: createParents (optional)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Whether the operation should create any folders that are missing in the given path. If false is entered for this parameter, then the operation fails if any folders in the given path do not exist.</p>
      
	  </li>
    
  </ul>
  <div class="request-body-content"></div>
  <h3 class="section">Example Request</h3>
  Here is an example of a upload file request in cURL. In this example, the file is uploaded to a folder called "Sales-Reports", the hash is "f8e25", and the access token is "abc=". In an actual request, the hash and access token are much longer. <br><br><p><pre> curl -kiX POST https://anywhere.example.com/fss/public/file/stream/create?path=/Work-Projects/Sales-Reports/Sales-Presentation.docx&size=1258&hash=f8e25 -H "Accept: application/json" -H "Content-Type: application/octet-stream" -H "Authorization: Bearer abc=" -H "X-HCPAW-FSS-API-VERSION: 2.1.1" --data-binary @Users/JSMITH/Documents/Sales-Presentions.docx</pre></p>
  
   <p class="x-hds-example-text-description"></p>
  <h3 class="section">Example Response</h3>
   The response for a successful upload file request. In an actual response, the etag and hash are much longer. <br><br><p style="margin-left: 20px"><pre> { <p style="margin-left: 30px"> "type": "FILE", </p><p style="margin-left: 30px"> "parent": "/Work-Projects/Sales-Reports", </p><p style="margin-left: 30px"> "name": "Sales-Presentation.docx", </p><p style="margin-left: 30px"> "changeTime": 1456269366268, </p><p style="margin-left: 30px"> "size": 1258, </p><p style="margin-left: 30px"> "hash": "f8e25", </p><p style="margin-left: 30px"> "etag": "xyz==" </p><p style="margin-left: 20px"> }</pre></p>
   <p class="x-hds-example-return-text-description"></p>
  <h3 class="section">Description of Response</h3>
  <div class="model" data-model="Response body for upload new file"><a>Response body for upload new file</a><span class="model-body-indicator">&#9662;</span><div class="model-body-content"></div></div>
  <h3 class="section">Response Codes</h3>
  <div>
    <ul>
    
    <li class="parameter">
    <span class="param-in">201</span> - Operation successful.
    
    <li class="parameter">
    <span class="param-in">400</span> - Bad request. The error message contained in the reponse body includes more information.
    
    <li class="parameter">
    <span class="param-in">401</span> - Bad or expired access token.
    
    <li class="parameter">
    <span class="param-in">403</span> - Access to the resource was forbidden while trying to upload the file.
    
    <li class="parameter">
    <span class="param-in">404</span> - The given path in HCP Anywhere does not exist.
    
    <li class="parameter">
    <span class="param-in">409</span> - A conflict was encountered while trying to upload the file.
    
    <li class="parameter">
    <span class="param-in">413</span> - A limit on HCP Anywhere was encountered while trying to upload the file. The error message contained in the reponse body includes more information.
    
    <li class="parameter">
    <span class="param-in">500</span> - Internal server error.
    
    <li class="parameter">
    <span class="param-in">502</span> - While acting as a gateway to a third-party application, an error occurred while trying to upload the file.
    
    <li class="parameter">
    <span class="param-in">503</span> - The server was temporarily unable to upload the file. The request should be retried.
    
    </ul>
  </div>
  
  <h3><a name="fileStreamReadGet"></a><b>Download file (GET)</b></h3>
  <hr>
  <p></p>
  <p>Downloads the contents of a file from HCP Anywhere. <p> Typically, you use a GET request when making a request from a web browser.</p></p>
  <h3 class="section">URI</h3>
  <code>/fss/public/file/stream/read</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Parameters</h3>
  
  <ul>
  	
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: path (required)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Path to the file to download. The last entry in the path should be the file to download.</p>
      
	  </li>
    
	  <li class="parameter">
      
      
      
      
      <span class="param-in">Header Parameter: etag (optional)</span>
      <span class="param-type"></span>
      
      <p class="param-description">The etag of the file to download, which is provided in an If-None-Match header. The etag identifies the version of the file and is part of the file metadata. <p> If the etag is included in the header and does not match the given file (as in, the local file is out of date), the file is returned. If the etag does match the given file, the file is not returned as the local file is up to date. <p> If the etag is not included in the header, the latest version of the file in HCP Anywhere is downloaded.</p></p>
      
	  </li>
    
  </ul>
  <div class="request-body-content"></div>
  <h3 class="section">Example Request</h3>
  Here is an example of a download file (GET) request. In this example, the file being downloaded is "example.docx", the etag of the file is "xyz==", and the access token is "abc=". In an actual request, the etag and the access token are much longer. <br><br><p><pre> curl -kiX GET https://anywhere.example.com/fss/public/file/stream/read?path="/Work-Projects/example.docx" -H "Accept: application/octet-stream" -H "Content-Type: application/json" -H "If-None-Match: xyz==" -H "Authorization: Bearer abc=" -H "X-HCPAW-FSS-API-VERSION: 2.1.1"</pre></p>
  
   <p class="x-hds-example-text-description"></p>
  <h3 class="section">Example Response</h3>
   The response for a successful download file request. <br><br><p style="margin-left: 20px"><pre> This is example text for the HCP Anywhere File Sync and Share API.</pre></p>
   <p class="x-hds-example-return-text-description"></p>
  <h3 class="section">Description of Response</h3>
  <div class="model" data-model="Response body for download (GET)"><a>Response body for download (GET)</a><span class="model-body-indicator">&#9662;</span><div class="model-body-content"></div></div>
  <h3 class="section">Response Codes</h3>
  <div>
    <ul>
    
    <li class="parameter">
    <span class="param-in">200</span> - Operation successful.
    
    <li class="parameter">
    <span class="param-in">204</span> - The etag you entered is the latest version of the file.
    
    <li class="parameter">
    <span class="param-in">206</span> - Invalid accept header. The accept header needs to be application/octet-stream.
    
    <li class="parameter">
    <span class="param-in">400</span> - Bad request. The error message contained in the reponse body includes more information.
    
    <li class="parameter">
    <span class="param-in">401</span> - Bad or expired access token.
    
    <li class="parameter">
    <span class="param-in">403</span> - Access to the resource was forbidden while trying to download the file.
    
    <li class="parameter">
    <span class="param-in">404</span> - The given path does not exist.
    
    <li class="parameter">
    <span class="param-in">500</span> - Internal server error.
    
    <li class="parameter">
    <span class="param-in">503</span> - The server was temporarily unable to download the file. The request should be retried.
    
    </ul>
  </div>
  
  <h3><a name="fileStreamReadPost"></a><b>Download file (POST)</b></h3>
  <hr>
  <p></p>
  <p>Downloads the contents of a file from HCP Anywhere.</p>
  <h3 class="section">URI</h3>
  <code>/fss/public/file/stream/read</code>
  <h3 class="section">HTTP Method</h3>
  <code>POST</code>
  <h3 class="section">Parameters</h3>
  
  <ul>
  	
	  <li class="parameter">
      <span class="param-in">Request Body: </span><div class="model" data-model="Request body for download (POST)"><a>Request body for download (POST)</a><span class="model-body-indicator">&#9662;</span>
      
      
      
      
      <span class="param-type"></span>
      
      <p class="param-description">The request body parameters needed to download a file. This request body needs to be JSON.</p>
      
      <div class="model-body-content"></div>
      </div>
	  </li>
    
  </ul>
  <div class="request-body-content"></div>
  <h3 class="section">Example Request</h3>
  Here is an example of a download file (POST) request in cURL. In this example, the file being downloaded is "example.docx", the etag of the file is "xyz==", and the access token is "abc=". In an actual request, the etag and the access token are much longer. <br><br><p><pre> curl -kiX GET https://anywhere.example.com/fss/public/file/stream/read -H "Accept: application/octet-stream" -H "Content-Type: application/json" -H "Authorization: Bearer abc=" -H "X-HCPAW-FSS-API-VERSION: 2.1.1" -d '{"path":"/Work-Projects/example.docx" "etag": "xyz=="}'</pre></p>
  
   <p class="x-hds-example-text-description"></p>
  <h3 class="section">Example Response</h3>
   The response for a successful download file request. <br><br><p style="margin-left: 20px"><pre> This is example text for the HCP Anywhere File Sync and Share API.</pre></p>
   <p class="x-hds-example-return-text-description"></p>
  <h3 class="section">Description of Response</h3>
  <div class="model" data-model="Response body for download (POST)"><a>Response body for download (POST)</a><span class="model-body-indicator">&#9662;</span><div class="model-body-content"></div></div>
  <h3 class="section">Response Codes</h3>
  <div>
    <ul>
    
    <li class="parameter">
    <span class="param-in">200</span> - Operation successful.
    
    <li class="parameter">
    <span class="param-in">204</span> - The etag you entered is the latest version of the file.
    
    <li class="parameter">
    <span class="param-in">206</span> - Invalid accept header. The accept header needs to be application/octet-stream.
    
    <li class="parameter">
    <span class="param-in">400</span> - Bad request. The error message contained in the reponse body includes more information.
    
    <li class="parameter">
    <span class="param-in">401</span> - Bad or expired access token.
    
    <li class="parameter">
    <span class="param-in">403</span> - Access to the resource was forbidden while trying to download the file.
    
    <li class="parameter">
    <span class="param-in">404</span> - The given path does not exist.
    
    <li class="parameter">
    <span class="param-in">500</span> - Internal server error.
    
    <li class="parameter">
    <span class="param-in">503</span> - The server was temporarily unable to download the file. The request should be retried.
    
    </ul>
  </div>
  
  <h3><a name="fileStreamUpdatePost"></a><b>Update file</b></h3>
  <hr>
  <p></p>
  <p>Updates an existing file in HCP Anywhere.</p>
  <h3 class="section">URI</h3>
  <code>/fss/public/file/stream/update</code>
  <h3 class="section">HTTP Method</h3>
  <code>POST</code>
  <h3 class="section">Parameters</h3>
  
  <ul>
  	
	  <li class="parameter">
      <span class="param-in">Request Body: </span><div class="model" data-model="Request body for update"><a>Request body for update</a><span class="model-body-indicator">&#9662;</span>
      
      
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Request body parameters needed to update a file. This request body needs to be an octet-stream.</p>
      
      <div class="model-body-content"></div>
      </div>
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: path (required)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Current path in HCP Anywhere of the file to update. The last entry in the path should be the name of the file to update.</p>
      
	  </li>
    
	  <li class="parameter">
      
      
      
      
      <span class="param-in">Header Parameter: etag (required)</span>
      <span class="param-type"></span>
      
      <p class="param-description">The etag of the file to update in HCP Anywhere, which is provided in an If-Match header. The etag identifies the version of the file and is part of the file metadata. <p> If there is not a file at the given path that matches the etag, the operation fails.</p>
      
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: size (optional)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">Size (in bytes) of the file being uploaded. <p> If this parameter and the hash of the file are included in the request, HCP Anywhere checks that the size and hash match the file being uploaded. If the size and hash do not match, the operation fails. </p><p> If only one or neither of these two paramters are provided, HCP Anywhere does not check the size or hash of the file. The file is simply uploaded to HCP Anywhere.</p></p>
      
	  </li>
    
	  <li class="parameter">
      
      
      <span class="param-in">Query Parameter: hash (optional)</span>
      
      
      <span class="param-type"></span>
      
      <p class="param-description">The hex encoded sha-384 hash of the file being uploaded. <p> If this parameter and the size of the file are included in the request, HCP Anywhere checks that the size and hash match the file being uploaded. If the size and hash do not match, the operation fails. </p><p> If only one or neither of these two paramters are provided, HCP Anywhere does not check the size or hash of the file. The file is simply uploaded to HCP Anywhere.</p></p>
      
	  </li>
    
  </ul>
  <div class="request-body-content"></div>
  <h3 class="section">Example Request</h3>
  Here is an example of an update file request in cURL. In this example, the hash is "37f2d" and the access token is "abc=". In an actual request, the hash and the access token are much longer. <br><br><p><pre> curl -kiX POST https://anywhere.example.com/fss/public/file/stream/update?path=/Work-Projects/Sales-Reports/Sales-Presentation.docx&size=2064&hash=f8e25 -H "Accept: application/json" -H "Content-Type: application/octet-stream" -H "If-Match: xyz==" -H "Authorization: Bearer abc=" -H "X-HCPAW-PUBLIC-FSS-VERSION: 2.1.1" --data-binary @Users/JSMITH/Documents/Sales-Presentation.docx</pre>
  
   <p class="x-hds-example-text-description"></p>
  <h3 class="section">Example Response</h3>
   The response for a successful update file request. In an actual response, the etag and hash are much longer. <br><br><p style="margin-left: 20px"><pre> { </p><p style="margin-left: 30px"> "type": "FILE", </p><p style="margin-left: 30px"> "parent": "/Work-Projects/Sales-Reports", </p><p style="margin-left: 30px"> "name": "Sales-Presentation.docx", </p><p style="margin-left: 30px"> "changeTime": 1456867234262, <p style="margin-left: 30px"> "size": 2064, <p style="margin-left: 30px"> "hash": "f8e25", <p style="margin-left: 30px"> "access": "COLLABORATOR", </p><p style="margin-left: 30px"> "etag": "xyz==" </p><p style="margin-left: 20px"> }</pre></p>
   <p class="x-hds-example-return-text-description"></p>
  <h3 class="section">Description of Response</h3>
  <div class="model" data-model="Response body for update file"><a>Response body for update file</a><span class="model-body-indicator">&#9662;</span><div class="model-body-content"></div></div>
  <h3 class="section">Response Codes</h3>
  <div>
    <ul>
    
    <li class="parameter">
    <span class="param-in">200</span> - Operation successful.
    
    <li class="parameter">
    <span class="param-in">400</span> - Bad request. The error message contained in the reponse body includes more information.
    
    <li class="parameter">
    <span class="param-in">401</span> - Bad or expired access token.
    
    <li class="parameter">
    <span class="param-in">403</span> - Access to the resource was forbidden while trying to upload the file.
    
    <li class="parameter">
    <span class="param-in">404</span> - The given path in HCP Anywhere does not exist.
    
    <li class="parameter">
    <span class="param-in">409</span> - A conflict was encountered while trying to upload the file.
    
    <li class="parameter">
    <span class="param-in">413</span> - A limit on HCP Anywhere was encountered while trying to upload the file. The error message contained in the reponse body includes more information.
    
    <li class="parameter">
    <span class="param-in">502</span> - While acting as a gateway to a third-party application, an error occurred while trying to upload the file.
    
    <li class="parameter">
    <span class="param-in">503</span> - The server was temporarily unable to upload the file. The request should be retried.
    
    </ul>
  </div>
  
  
</div>
<br>
<p><a href="trademarks.html">Trademarks</a> and <a href="Legal-Disclaimer.html">Legal Disclaimer</a>
<p>© 2016 Hitachi Data Systems Corporation. All rights reserved.</p>

