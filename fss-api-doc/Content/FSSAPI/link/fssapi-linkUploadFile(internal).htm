<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="welcomeUser.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Link endpoints">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Upload  file through link (internal)</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/V2-Online-Help.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoteTable.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="MasterPage">
        <p class="MasterPageDocTitle"><span class="GlobalVariablesDocTitle">Hitachi Content Platform Anywhere File Sync and Share API Reference Guide</span>
        </p>
        <div class="bodyContent">
            <div class="MasterPageBreadcrumbs">
                <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="fssapi-linkIntro.htm">Link endpoints</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Upload file through link (internal)</span>
                </div>
            </div>
            <hr width="100%" size="0" align="center" />
            <div class="MasterPageBodyAndMiniTOCProxyContainer">
                <h1>Upload  file through link (internal)</h1>
                <p>This request uploads a file into a folder that was accessed through a link. </p>
                <p>You cannot update an existing file in a folder using  this request. You can update an existing file in a folder that a link points to using a:</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span><a href="fssapi-linkUpdateFile(internal).htm">link/private/stream/update</a> request for internal links</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span><a href="fssapi-linkUpdateFile(public).htm">link/public/stream/update</a> request for public links.</p>
                <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/NoteTable.css');margin-left: 0;margin-right: auto;" class="TableStyle-NoteTable" cellspacing="0">
                    <col class="Column-NoteIcon" />
                    <col class="Column-NoteText" />
                    <tbody>
                        <tr class="Body-Body1">
                            <td class="BodyB-NoteIcon-Body1">
                                <img src="../../Resources/Images/noteTables/NoteWebHelp.png" class="Note" style="height: 37px;" data-mc-conditions="GlobalConditions.HelpOnly" />
                            </td>
                            <td class="BodyA-NoteText-Body1">
                                <p class="Notes" data-mc-autonum="&lt;b&gt;Notes: &lt;/b&gt;"><span class="autonumber"><span><b>Notes: </b></span></span>&#160;</p>
                                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>You can use this endpoint to access   a public link.&#160;Public links are accessible without login credentials. Because of this, you do not have to include an authentication token in this request.</p>
                                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>You cannot use this endpoint to access an internal link. &#160;Internal links are only accessible with valid HCP&#160;Anywhere login credentials. To upload a file into a folder that was accessed through a public link, you need to use a <a href="fssapi-linkUploadFile(public).htm">link/public/stream/create</a> request.</p>
                                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>The person who creates the link sets whether the link is internal or public. These settings are part of the link metadata. The link metadata is returned in response to a number of the link requests.</p>
                                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>In order to upload a file to a folder that a link points to, you must have the "UPLOAD" permission for the link.&#160;The person who creates a link sets the permissions (READ&#160;or UPLOAD)&#160;you have on the item that a link points to.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>URI</h2>
                <p class="APICode">/fss/public/link/private/stream/create</p>
                <h2>HTTP Method</h2>
                <p class="APICode">POST</p>
                <h2>Parameters</h2>
                <p>The <span class="FileName">link/private/stream/create</span> endpoint requires  request body and query parameters. The  request body  needs to contain an octet-stream.</p>
                <p><span class="GUI">Request body parameters:</span>
                </p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>file contents (required) : Object</p>
                <p class="NormalIndent-1">The contents of the file. In cURL, you can use the "-T" option to enter the path to the file you want to upload. </p>
                <p><span class="GUI">Query parameters:</span>
                </p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>path (required): String</p>
                <p class="NormalIndent-1">The path in the folder where the file is uploaded.  The path can contain folders that have not been created. </p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>linkToken (required) : String</p>
                <p class="NormalIndent-1">A unique string assigned to the  link by HCP Anywhere. The link token is part of the link metadata and is returned in response to a number of link requests.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>itemName (required): String</p>
                <p class="NormalIndent-1">The name of the folder that the  link points to.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>size (optional): Long</p>
                <p class="NormalIndent-1">The size (in bytes) of the file being uploaded.</p>
                <p class="NormalIndent-1">If this parameter and the hash of the file are included in the request, HCP Anywhere checks that the size and hash match the the file being uploaded. If the size and hash do not match, the operation fails and a 400 (Bad&#160;Request) code is returned.</p>
                <p class="NormalIndent-1">If only one or neither of these two parameters are included in the request, HCP Anywhere does not check the size or hash of the file. The file is simply uploaded to HCP Anywhere.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span> hash (optional): String</p>
                <p class="NormalIndent-1">The hex encoded sha-384 hash of the file being uploaded.</p>
                <p class="NormalIndent-1">If this parameter and the size of the file are included in the request, HCP Anywhere checks that the size and hash match the file being uploaded. If the size and hash do not match, the operation fails and a 400 (Bad&#160;Request) code is returned.</p>
                <p class="NormalIndent-1">If only one or neither of these two parameters are included in ther request, HCP Anywhere does not check the size or hash of the file. The file is simply uploaded to HCP Anywhere.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>accessCode (conditional): String</p>
                <p class="NormalIndent-1">An additional code assigned to the  link by HCP Anywhere.&#160;The person who creates the link decides if the link  requires this additional code. </p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>createParents (optional):&#160;Boolean</p>
                <p class="NormalIndent-1">If true, the request creates any folders that do not exist in the path you specified. If false, the request fails if any folders in the  path do not exist. The default is false.</p>
                <h2>Example Request</h2>
                <p>This section contains an example of a <span class="FileName">link/private/stream/create</span> request in cURL. In this example, the file is uploaded to a folder called "Quarterly-Overviews",  the file being uploaded is named "Q3-Overview.docx", and the  authentication token is "abc=". In an actual request, the authentication token is much longer.</p>
                <p class="APICode">curl -kiX POST "https://anywhere.example.com/fss/public/link/private/stream/create?linkToken=MF77byLe-2giXvtv&amp;itemName=Quarterly-Overviews&amp;path=/Q3-Overview.docx"  -H "Authorization: Bearer abc=" -H "Content-Type: application/octet-stream" -H "Accept: application/json" -H "X-HCPAW-FSS-API-VERSION: <span class="fssAPIVariablesFSS&#160;API Version">3.0.3</span>" -T home/ABlOOM/Documents/Q3-Overview.docx</p>
                <h2>Example Response</h2>
                <p>This section contains an example of a response to a successful <span class="FileName">link/private/stream/create</span> request. In an actual response, the etag and hash are much longer.</p>
                <p class="APICode">{<br />&#160;&#160;&#160;&#160;"type": "FILE",<br />&#160;&#160;&#160;&#160;"name": "Q3-Overview.docx",<br />&#160;&#160;&#160;&#160;"changeTime": 1456269366268,<br />&#160;&#160;&#160;&#160;"size": 1258,<br />&#160;&#160;&#160;&#160;"hash": "f8e25",<br />&#160;&#160;&#160;&#160;&#160;"access": "COLLABORATOR",<br />&#160;&#160;&#160;&#160;"etag": "xyz==",<br />&#160;&#160;&#160;&#160;"state": "CREATE"<br />}</p>
                <h2>Description of Response</h2>
                <p>This section describes the  contents of a <span class="FileName">link/private/stream/create</span> response.</p>
                <p><span class="GUI">Response content:</span>
                </p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>type (required) : Enum</p>
                <p class="NormalIndent-1">The type of item (FILE&#160;or FOLDER). For this response, the type is always FILE.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>name (required) : String</p>
                <p class="NormalIndent-1">The name of the file.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>changeTime (required) : Long</p>
                <p class="NormalIndent-1">The time at which the file was last accessed or modified. This time is returned in Unix format.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>size (required) : Long</p>
                <p class="NormalIndent-1">The size of the file in bytes.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>hash (required) : String</p>
                <p class="NormalIndent-1">The hex encoded sha-384 hash of the file.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>access (required) : Enum</p>
                <p class="NormalIndent-1">The type of operations the user can perform on the file:</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>NO ACCESS  — The user cannot access the file.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>VIEWER  — The user can  download the file. </p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>COLLABORATOR  — The user can download, edit, move, and delete the file.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>etag (required) : String</p>
                <p class="NormalIndent-1">The etag of the file. The etag identifies the version of the file and is included as a parameter in some of the other File Sync and Share API endpoints.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>state (required) : Enum</p>
                <p class="NormalIndent-1">The state of the file (CREATE or DELETE). For this response, the state is always CREATE.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>sharing (conditional): Object</p>
                <p class="NormalIndent-1">If the file is uploaded into a shared folder, team folder, or <span class="userVariablesNASShare">mobilized share</span>, some additional folder information.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>canUserManage: Boolean</p>
                <p class="NormalIndent-2">If true, the user is the Owner of the shared folder or the Manager of the team folder.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>isMountPoint: Boolean</p>
                <p class="NormalIndent-2">If true, the item is a mount point — also known as mounted filesystem — within the HCP Anywhere filesystem. Shared folders, team folders, and mobilized data shares are  mount points, although the items within them are not.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>label (conditional) : String</p>
                <p class="NormalIndent-2">If the item is a shared or team folder, the label of the  folder.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>type: Enum</p>
                <p class="NormalIndent-2">The type of collaborative folder (SHARED, TEAM, or MOBILIZED).</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>teamFolder (conditional): Object</p>
                <p class="NormalIndent-2">If the item is a team folder, some additional team folder information:</p>
                <p class="ListBullet-3" data-mc-autonum="–"><span class="autonumber"><span class="Bullet3">–</span></span>contact: String</p>
                <p class="NormalIndent-3">The contact of the team folder.</p>
                <p class="ListBullet-3" data-mc-autonum="–"><span class="autonumber"><span class="Bullet3">–</span></span>quota: Long</p>
                <p class="NormalIndent-3">The total storage capacity of the team folder.&#160;This is returned in bytes.</p>
                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>backup (conditional): Object</p>
                <p class="NormalIndent-1">If the file is uploaded into a backup folder, some additional backup information:</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>isActive: Boolean</p>
                <p class="NormalIndent-2">If true, the backup folder is connected to the HCP Anywhere desktop application.&#160;</p>
                <p class="NormalIndent-2">The backup folder can disconnected from the desktop application if the desktop application is deregistered or if the backup feature is disabled by the system administrator.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>isMountPoint: Boolean</p>
                <p class="NormalIndent-2">If true, the item is a mount point — also known as mounted filesystem — within the HCP Anywhere filesystem. The backup parent folder, which is automatically created when the desktop application is installed with backup enabled, is always a mount point.</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>operatingSystem: Enum</p>
                <p class="NormalIndent-2">The type of device on which the desktop application is installed (WINDOWS,&#160;WINDOWS NSC, or&#160;MAC). For version 3.0 or later of the Windows desktop application, the operatingSystem is "WINDOWS&#160;NSC".</p>
                <p class="ListBullet-2" data-mc-autonum="o"><span class="autonumber"><span class="Bullet2">o</span></span>hasAssociatedClient: Boolean</p>
                <p class="NormalIndent-2">Each backup file or folder is associated with the desktop application that performed its backup. If true, the desktop application  associated with the backup folder is currently registered.&#160;If false, the desktop application  associated with the backup folder is currently deregistered. </p>
                <table style="width: 95%;mc-table-style: url('../../Resources/TableStyles/NoteTable.css');margin-left: 50px;margin-right: auto;" class="TableStyle-NoteTable" cellspacing="0">
                    <col class="Column-NoteIcon" />
                    <col class="Column-NoteText" />
                    <tbody>
                        <tr class="Body-Body1">
                            <td class="BodyB-NoteIcon-Body1">
                                <img src="../../Resources/Images/noteTables/NoteWebHelp.png" class="Note" style="height: 37px;" data-mc-conditions="GlobalConditions.HelpOnly" />
                            </td>
                            <td class="BodyA-NoteText-Body1">
                                <p class="Note" data-mc-autonum="&lt;b&gt;Note: &lt;/b&gt;"><span class="autonumber"><span><b>Note: </b></span></span>An application can be deregistered if:</p>
                                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>You  deregister it in the User Portal in the <span class="GUI">My Devices</span> window</p>
                                <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span> Your administrator  deregisters it in the HCP Anywhere Management Console</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>Additional Notes</h2>
                <p>If an access code was used in the request, a cookie is returned in response header. That header looks like this:</p>
                <p class="APICode">Set-Cookie: AW-Access-Code=1f04e79f3c8;Version=1;Path=/;Max-Age=600</p>
                <p>
                    <br />The cookie can be attached to subsequent link requests where otherwise the access code would be required. </p>
            </div>
            <div class="MasterPageBodyAndMiniTOCProxyContainer">
                <!--the inline styling on the MiniTOC proxy is OK.  It does NOT appear in the output and the mc-toc-depth property is required for including the correct items in the Mini TOC-->
            </div>
            <!--BeginHideIfBranded-->
            <p class="MasterPageLegalLinks"><i><a href="../../Resources/WebHelpLegal/Trademark.htm" class="MCTopicPopup MCTopicPopupHotSpot a aPopup" data-mc-width="auto" data-mc-height="auto">Trademarks</a> and <a href="../../Resources/WebHelpLegal/LegalDisclaimer.htm" class="MCTopicPopup MCTopicPopupHotSpot a aPopup" data-mc-width="auto" data-mc-height="auto">Legal Disclaimer</a></i>
            </p>
            <p style="font-size: 9pt;margin-left:0;"><span style="font-size: 8pt;">© <span class="GlobalVariablesCopyright">2017</span> <span class="GlobalVariablesCopyrightOwner">Hitachi Data Systems Corporation</span>. All rights reserved.</span>
            </p>
            <!--EndHideIfBranded-->
            <!--BeginHideIfBranded-->
            <!--EndHideIfBranded-->
        </div>
    </body>
</html>