<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="welcomeUser.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedHeader%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta data-productName="Hitachi Content Platform Anywhere" />
        <meta data-productVersion="4.0" />
        <meta data-docTitle="HCP Anywhere File Sync and Share API Reference Guide" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Download multiple files through link (internal)</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/V2-Online-Help.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/NoteTable.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="MasterPage">
        <p class="MasterPageDocTitle"><span class="GlobalVariablesDocTitle">HCP Anywhere File Sync and Share API Reference Guide</span>
        </p>
        <div class="bodyContent">
            <div class="MasterPageBreadcrumbs">
                <div class="nocontent">
                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                    </div>
                </div>
            </div>
            <hr width="100%" size="0" align="center" />
            <h1>Download multiple files through link (internal)</h1>
            <p>This request downloads multiple items within a folder that was accessed through a link. With this endpoint, you can download a folder, multiple folders, a file, multiple files, and multiple files and folders. The downloaded items are returned in a .zip file.</p>
            <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/NoteTable.css');margin-left: 0;margin-right: auto;" class="TableStyle-NoteTable" cellspacing="0">
                <col class="Column-NoteIcon" />
                <col class="Column-NoteText" />
                <tbody>
                    <tr class="Body-Body1">
                        <td class="BodyB-NoteIcon-Body1">
                            <img src="../../Resources/Images/noteTables/NoteWebHelp.png" class="Note" style="height: 37px;" data-mc-conditions="GlobalConditions.HelpOnly" />
                        </td>
                        <td class="BodyA-NoteText-Body1">
                            <p class="Notes" data-mc-autonum="&lt;b&gt;Notes: &lt;/b&gt;"><span class="autonumber"><span><b>Notes: </b></span></span>&#160;</p>
                            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>You can use this endpoint to access   an internal link.&#160;Internal links are only accessible with valid HCP&#160;Anywhere login credentials. </p>
                            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>You cannot use this endpoint to access a public link. Public links are accessible without login credentials. To download multiple files from a folder that was accessed through a public link, you need to use a <a href="fssapi-linkDownloadMultipleFiles(public).htm">link/public/multiDownload</a> request.</p>
                            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>The person who creates the link sets whether the link is internal or public. These settings are part of the link metadata. The link metadata is returned in response to a number of the link requests.</p>
                            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>In order to download a file to a folder that a link points to, you must have the "READ" permission for the link.&#160;The person who creates a link sets the permissions (READ&#160;or UPLOAD)&#160;you have on the item that a link points to.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h2>URI</h2>
            <p class="APICode">/fss/public/link/private/multiDownload</p>
            <h2>HTTP Method</h2>
            <p class="APICode">POST</p>
            <h2>Parameters</h2>
            <p>The <span class="FileName">link/private/multiDownload</span> endpoint supports supplying its parameters in a request body or in the endpoint query. When using a request body, the  request body  needs to be in JSON format.</p>
            <p><span class="GUI">Request body or query parameters:</span>
            </p>
            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>itemName (required): String</p>
            <p class="NormalIndent-1">The name of the file or folder where the link is pointing.</p>
            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>pathList (required): Array</p>
            <p class="NormalIndent-1">The path to each item to download. </p>
            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>linkToken (required) : String</p>
            <p class="NormalIndent-1">A unique string assigned to the  link by HCP Anywhere. The link token is part of the link metadata and is returned in response to a number of link requests.</p>
            <p class="ListBullet-1" data-mc-autonum="•"><span class="autonumber"><span class="Bullet1">•</span></span>accessCode (conditional): String</p>
            <p class="NormalIndent-1">An additional code assigned to the  link by HCP Anywhere.&#160;The person who creates the link decides if the link  requires this additional code. </p>
            <h2>Example Request</h2>
            <p>This section contains an example of a JSON and form based <span class="FileName">link/private/multiDownload</span> request in cURL. In these two examples, the access token is "abc=". In an actual request, the access token is much longer. </p>
            <p>The "-o" option is supplied in each request. The "-o" option allows you to save the file to a local path on your computer instead of having the file streamed to your terminal in bytes. If you are using the "-o" option, do not include an "i" in the request (such as "kiX"). This corrupts the file.</p>
            <p>JSON based request:</p>
            <p class="APICode">curl -kX POST https://anywhere.example.com/fss/public/link/private/multiDownload -H "Authorization: Bearer abc=" -H "Content-Type: application/json" -H "Accept: application/zip" -H "X-HCPAW-FSS-API-VERSION: <span class="fssAPIVariablesFSS&#160;API Version">4.0.0</span>"  -d '{"itemName": "Quarterly Overviews", "linkToken": "MF77byLe-2giXvtv", "accessCode": "trw3N" "pathList": ["/Q1-Overview.docx", "/Q1-Overview.docx"]}' -o "C:\JSMITH\Desktop\Overviews.zip"</p>
            <p>
                <br />Form based request:</p>
            <p class="APICode">curl -kX POST "https://anywhere.example.com/fss/public/link/private/multiDownload?itemName=/Quarterly-Overviews&amp;linkToken=MF77byLe-2giXvtv&amp;accessCode=trw3N&amp;pathList=/Q1-Overview.docx&amp;pathList=Q2-Overview.docx" -H "Authorization: Bearer abc=" -H "Content-Type: application/x-www-form-urlencoded" -H "Accept: application/zip" -H "X-HCPAW-FSS-API-VERSION: <span class="fssAPIVariablesFSS&#160;API Version">4.0.0</span>"</p>
            <h2>Example Response<br /></h2>
            <p>For a successful <span class="FileName">link/private/multiDownload</span> response, no information is returned in the response body. Instead, the .zip file is downloaded to the location that you specified in the "-o" option of the request.</p>
            <h2>Additional Notes</h2>
            <p>If an access code was used in the request, a cookie is returned in response header. That header looks like this:</p>
            <p class="APICode">Set-Cookie: AW-Access-Code=1f04e79f3c8;Version=1;Path=/;Max-Age=600</p>
            <p>
                <br />The cookie can be attached to subsequent link requests where otherwise the access code would be required. </p>
            <p class="MasterPageLegalLinks"><i><a href="../../Resources/WebHelpLegal/Trademark.htm" class="MCTopicPopup MCTopicPopupHotSpot a aPopup" data-mc-width="auto" data-mc-height="auto">Trademarks</a> and <a href="../../Resources/WebHelpLegal/LegalDisclaimer.htm" class="MCTopicPopup MCTopicPopupHotSpot a aPopup" data-mc-width="auto" data-mc-height="auto">Legal Disclaimer</a></i>
            </p>
            <p style="font-size: 9pt;margin-left:0;"><span style="font-size: 8pt;">© <span class="GlobalVariablesCopyright">2018</span> <span class="GlobalVariablesCopyrightOwner">Hitachi Vantara Corporation</span>. All rights reserved.</span>
            </p><a style="display: none;" href="../../Resources/Fonts/calibril.ttf">Calibri Light.ttf</a>
        </div>
    </body>
</html>